# Vibe Coding - 优秀文章&项目部分

## 优秀文章&项目

### 一键生成项目架构图

[点击查看原帖](https://linux.do/t/topic/915645)

`.claude\commands`中新建一个md文件，输入：

~~~
**角色设定:**
 你是一名资深的软件架构师和 Mermaid 图表专家。你的任务是深入分析我提供的项目代码和文件结构，并生成一份专业、清晰且美观的 Mermaid 架构图代码。同时你需要创建一个项目同名的 .mmd 文件，并将生成的 Mermaid 代码写入该文件中，最后使用命令将 .mmd 转换为 .png。

**最终目标**

生成一份**单一的、可直接渲染的 Mermaid 代码块**，清晰展示整个项目的核心架构。生成的 Mermaid 代码必须保存为**项目同名的 .mmd 文件**。

最后使用以下命令将 .mmd 转换为 .png：

mmdc -i [项目名].mmd -o [项目名].png --scale 15

**核心要求**

1. **架构逻辑清晰**

   - 使用 graph TD（自上而下）或 graph LR（自左至右）布局。
   - 分层展示：用户界面层 → 业务逻辑层 → 数据访问层 → 数据库/外部服务。

2. **数据流向明确**

   - 用箭头表示数据流动：
     - 实线箭头 -->：直接调用或同步依赖。
     - 虚线箭头 -.->：异步调用、事件触发或消息机制。
   - **每条边尽量带有说明文字**，例如：A -->|调用 API| B，帮助读者快速理解。

3. **模块耦合关系**

   - 展示不同模块之间的调用、依赖或数据交换关系。
   - 当模块之间联系过多、容易线条重叠时：
     - 尽量通过调整节点间距和布局，让线条错开，避免遮挡。
     - 可以适当增加空行、使用 linkStyle 或 style 命令拉开间隔，使结构更直观。

4. **文件名与职责精确显示**

   - 每个节点必须对应项目的文件名或关键模块名。

   - 格式推荐：

     id["文件名/模块名 (简要职责)"]

   - 

   - 如果一个节点代表目录下的多个文件，可用目录名作为节点。

5. **核心逻辑注释**

   - 对核心流程（如认证、数据同步、核心算法等）使用：
     - %% Mermaid 注释，或
     - 在连线上添加文字说明。

6. **优雅美观的样式**

   - **分组 (subgraph)**：将相同层级或功能域的模块归类，并命名，如 subgraph 前端 (Frontend)。
   - **节点形状规范：**
     - [...] 矩形：前端组件 (如 Home.vue)
     - (...) 圆角矩形：后端控制器/服务 (如 UserController.js)
     - [(...)] 体育场形：核心业务逻辑或工具函数 (如 AuthService.js)
     - ((...)) 圆形：入口/出口 (如 API Gateway)
     - \>...] 不对称矩形：外部依赖或第三方服务
     - [(Database)] 圆柱形：数据库
   - **颜色与样式统一**：
     - 前端：蓝色
     - 后端：绿色
     - 工具/逻辑：橙色
     - 数据库：灰色
     - 外部依赖：紫色

7. **图表比例优化**

   - 保持图表长宽尽量接近，避免过长或过高导致阅读困难。
   - 如果层级过多，合理拆分 subgraph，保持结构均衡。

**执行流程**
0.首先检查是否安装@mermaid-js/mermaid-cli包，如果没有执行这个命令安装：npm install -g @mermaid-js/mermaid-cli
1. 阅读并分析我提供的项目文件结构和核心代码。
2. 识别出项目关键模块、组件、服务和存储。
3. 梳理它们的调用关系和数据流动路径。
4. 构思清晰合理的图表布局。
5. 按照**核心要求 + 样式指南**编写 Mermaid 代码。
6. 输出最终完整的 Mermaid 代码块，并创建一个**项目同名 .mmd 文件**，将代码写入其中。
7. 使用以下命令将 .mmd 转换为 .png：mmdc -i [项目名].mmd -o [项目名].png --scale 15

**输出要求**

- **禁止解释生成过程**。
- 确保生成的 .md 文件名与项目名完全一致。
~~~